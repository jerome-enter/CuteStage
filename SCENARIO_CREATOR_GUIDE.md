# ì‹œë‚˜ë¦¬ì˜¤ ìƒì„± í™”ë©´ êµ¬í˜„ ì™„ë£Œ

> ì‚¬ìš©ìê°€ ëª¨ë“ˆì„ ì„ íƒí•˜ê³  ì¡°í•©í•˜ì—¬ ì‹œë‚˜ë¦¬ì˜¤ë¥¼ ë§Œë“¤ ìˆ˜ ìˆëŠ” UI  
> ì‘ì„±ì¼: 2024  
> ìƒíƒœ: Phase 2 ì‹œì‘ - UI ë ˆì´ì–´ ê¸°ë³¸ êµ¬í˜„ ì™„ë£Œ

---

## ğŸ‰ ì™„ë£Œëœ ì‘ì—…

### 1. Navigation ì‹œìŠ¤í…œ êµ¬ì¶•

**ë¼ì´ë¸ŒëŸ¬ë¦¬ ì¶”ê°€**

- `androidx.navigation:navigation-compose:2.8.5`

**í™”ë©´ êµ¬ì¡°**

```
Main Screen (ê¸°ë³¸ í™”ë©´)
â”œâ”€ StageScreen (ì—°ê·¹ ì¬ìƒ)
â””â”€ FAB: "ì‹œë‚˜ë¦¬ì˜¤ ìƒì„±" ë²„íŠ¼
   â””â”€ í´ë¦­ ì‹œ â†’ Scenario Creator Screen

Scenario Creator Screen
â”œâ”€ íˆ´ë°” (ë’¤ë¡œê°€ê¸°, ì œëª©, ì €ì¥)
â”œâ”€ íƒ€ì„ë¼ì¸ (ì„ íƒëœ ëª¨ë“ˆë“¤)
â””â”€ ëª¨ë“ˆ íŒ”ë ˆíŠ¸ (ëª¨ë“ˆ ì„ íƒ)
```

---

## ğŸ“± í™”ë©´ êµ¬ì„±

### Main Screen (`MainScreen.kt`)

**ê¸°ëŠ¥:**

- ê¸°ì¡´ `StageScreen`ì„ ê·¸ëŒ€ë¡œ í‘œì‹œ
- ì˜¤ë¥¸ìª½ í•˜ë‹¨ì— FAB ì¶”ê°€
- FAB í´ë¦­ ì‹œ ì‹œë‚˜ë¦¬ì˜¤ ìƒì„± í™”ë©´ìœ¼ë¡œ ì´ë™

**ì½”ë“œ:**

```kotlin
Box(modifier = Modifier.fillMaxSize()) {
    StageScreen()
    
    FloatingActionButton(
        onClick = onNavigateToCreator,
        modifier = Modifier
            .align(Alignment.BottomEnd)
            .padding(16.dp)
    ) {
        Row {
            Icon(Icons.Default.Add, "ì‹œë‚˜ë¦¬ì˜¤ ìƒì„±")
            Text("ì‹œë‚˜ë¦¬ì˜¤ ìƒì„±")
        }
    }
}
```

---

### Scenario Creator Screen (`ScenarioCreatorScreen.kt`)

**ë ˆì´ì•„ì›ƒ:**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â† ì‹œë‚˜ë¦¬ì˜¤ ìƒì„±              âœ“      â”‚ â† íˆ´ë°”
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ¬ íƒ€ì„ë¼ì¸                    2ê°œ  â”‚
â”‚ â”Œâ”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”                      â”‚
â”‚ â”‚ 1  â”‚ â”‚ 2  â”‚                      â”‚
â”‚ â”‚ëŒ€ì‚¬â”‚ â”‚ë™ì‘â”‚                      â”‚ â† íƒ€ì„ë¼ì¸ (30%)
â”‚ â””â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”˜                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ’¬ëŒ€ì‚¬ ğŸƒë™ì‘ ğŸ¬ì¥ë©´ ğŸ–¼ï¸ë°°ê²½ âœ¨íš¨ê³¼  â”‚ â† íƒ€ì… íƒ­
â”‚ [ì¸ì‚¬] [ì¼ìƒ] [ê°ˆë“±] [í™”í•´] [ë¡œë§¨ìŠ¤]â”‚ â† ì¹´í…Œê³ ë¦¬
â”‚                                     â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚ â”‚ ì•ˆë…•í•˜ì„¸ìš”            [+]   â”‚   â”‚
â”‚ â”‚ ì‚¬ìš© 5íšŒ                    â”‚   â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚ â† ëª¨ë“ˆ ì¹´ë“œ (70%)
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚ â”‚ ì•ˆë…•                 [+]    â”‚   â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚ â”‚ ì‚¬ë‘í•´ìš”       ğŸ”’ 50í† í°    â”‚   â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”§ ì£¼ìš” ê¸°ëŠ¥

### 1. íƒ€ì„ë¼ì¸ ì‹œìŠ¤í…œ

**ê¸°ëŠ¥:**

- ì„ íƒí•œ ëª¨ë“ˆì´ ìˆœì„œëŒ€ë¡œ í‘œì‹œ
- ê° ëª¨ë“ˆ ì¹´ë“œì— ìˆœì„œ ë²ˆí˜¸ í‘œì‹œ (1, 2, 3...)
- X ë²„íŠ¼ìœ¼ë¡œ ì œê±° ê°€ëŠ¥
- ê°€ë¡œ ìŠ¤í¬ë¡¤

**TimelineModuleCard:**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 1           âœ•â”‚
â”‚              â”‚
â”‚   ì•ˆë…•í•˜ì„¸ìš”  â”‚
â”‚              â”‚
â”‚ ğŸ’¬ ëŒ€ì‚¬      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2. ëª¨ë“ˆ íƒ€ì… íƒ­

**5ê°œ íƒ€ì…:**

- ğŸ’¬ ëŒ€ì‚¬ (`dialogue`)
- ğŸƒ ë™ì‘ (`action`)
- ğŸ¬ ì¥ë©´ (`scene`)
- ğŸ–¼ï¸ ë°°ê²½ (`background`)
- âœ¨ íš¨ê³¼ (`effect`)

**ë™ì‘:**

- íƒ­ í´ë¦­ ì‹œ í•´ë‹¹ íƒ€ì…ì˜ ì¹´í…Œê³ ë¦¬ì™€ ëª¨ë“ˆ ë¡œë“œ
- ScrollableTabRowë¡œ êµ¬í˜„

### 3. ì¹´í…Œê³ ë¦¬ í•„í„°

**Dialogue ì¹´í…Œê³ ë¦¬ ì˜ˆì‹œ:**

- ì¸ì‚¬
- ì¼ìƒ
- ê°ˆë“±
- í™”í•´
- ë¡œë§¨ìŠ¤

**ë™ì‘:**

- FilterChipìœ¼ë¡œ êµ¬í˜„
- ì„ íƒí•œ ì¹´í…Œê³ ë¦¬ì˜ ëª¨ë“ˆë§Œ í‘œì‹œ

### 4. ëª¨ë“ˆ ì¹´ë“œ

**ì¼ë°˜ ëª¨ë“ˆ:**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ì•ˆë…•í•˜ì„¸ìš”            [+]   â”‚
â”‚ ì‚¬ìš© 5íšŒ                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**í”„ë¦¬ë¯¸ì—„ ëª¨ë“ˆ:**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ì‚¬ë‘í•´ìš”       ğŸ”’ 50í† í°    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ë™ì‘:**

- ì¼ë°˜ ëª¨ë“ˆ í´ë¦­ â†’ ì¦‰ì‹œ íƒ€ì„ë¼ì¸ì— ì¶”ê°€
- í”„ë¦¬ë¯¸ì—„ ëª¨ë“ˆ í´ë¦­ â†’ ì–¸ë½ ë‹¤ì´ì–¼ë¡œê·¸ í‘œì‹œ

### 5. í”„ë¦¬ë¯¸ì—„ ëª¨ë“ˆ ì–¸ë½ ë‹¤ì´ì–¼ë¡œê·¸

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚        ğŸ”’                   â”‚
â”‚   í”„ë¦¬ë¯¸ì—„ ëª¨ë“ˆ ì–¸ë½         â”‚
â”‚                             â”‚
â”‚ 'ì‚¬ë‘í•´ìš”' ëª¨ë“ˆì„ ì–¸ë½í•˜ì‹œê²  â”‚
â”‚ ìŠµë‹ˆê¹Œ?                     â”‚
â”‚                             â”‚
â”‚ í•„ìš” í† í°: 50ê°œ             â”‚
â”‚ â€» í˜„ì¬ëŠ” ë¬´ë£Œë¡œ ì–¸ë½ë©ë‹ˆë‹¤  â”‚
â”‚   (í† í° ì‹œìŠ¤í…œ êµ¬í˜„ ì˜ˆì •)   â”‚
â”‚                             â”‚
â”‚      [ì·¨ì†Œ]    [ì–¸ë½í•˜ê¸°]   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“Š ViewModel êµ¬ì¡°

### ScenarioCreatorViewModel

**ìƒíƒœ ê´€ë¦¬:**

```kotlin
data class ScenarioCreatorState(
    val selectedTypeId: String?,           // ì„ íƒëœ íƒ€ì… ID
    val selectedCategoryId: String?,       // ì„ íƒëœ ì¹´í…Œê³ ë¦¬ ID
    val timelineItems: List<TimelineModuleItem>,  // íƒ€ì„ë¼ì¸ ì•„ì´í…œ
    val showUnlockDialog: Boolean,         // ì–¸ë½ ë‹¤ì´ì–¼ë¡œê·¸ í‘œì‹œ
    val selectedModuleForUnlock: ModuleItemEntity?,
    val isSaving: Boolean,
    val showSaveSuccess: Boolean,
    val errorMessage: String?
)
```

**Flow ë°ì´í„°:**

```kotlin
val moduleTypes: StateFlow<List<ModuleTypeEntity>>
val categories: StateFlow<List<ModuleCategoryEntity>>
val moduleItems: StateFlow<List<ModuleItemEntity>>
```

**ì£¼ìš” í•¨ìˆ˜:**

```kotlin
fun selectModuleType(typeId: String)        // íƒ€ì… ì„ íƒ
fun selectCategory(categoryId: String)      // ì¹´í…Œê³ ë¦¬ ì„ íƒ
fun selectModuleItem(item: ModuleItemEntity) // ëª¨ë“ˆ ì„ íƒ
fun removeFromTimeline(itemId: String)      // íƒ€ì„ë¼ì¸ì—ì„œ ì œê±°
fun unlockModule(item: ModuleItemEntity)    // í”„ë¦¬ë¯¸ì—„ ì–¸ë½
fun saveScenario()                          // ì‹œë‚˜ë¦¬ì˜¤ ì €ì¥
```

---

## ğŸ¯ ì‚¬ìš©ì í”Œë¡œìš°

### ì¼ë°˜ ëª¨ë“ˆ ì¶”ê°€

```
1. ì•± ì‹¤í–‰
   â””â”€> Main Screen (StageScreen + FAB)

2. FAB "ì‹œë‚˜ë¦¬ì˜¤ ìƒì„±" í´ë¦­
   â””â”€> Scenario Creator Screen ì§„ì…

3. ìë™ìœ¼ë¡œ "ëŒ€ì‚¬" íƒ­, "ì¸ì‚¬" ì¹´í…Œê³ ë¦¬ ì„ íƒë¨
   â””â”€> ìƒ˜í”Œ ëª¨ë“ˆ 3ê°œ í‘œì‹œ:
       - ì•ˆë…•í•˜ì„¸ìš”
       - ì•ˆë…•
       - ì˜¤ëœë§Œì´ì—ìš”

4. "ì•ˆë…•í•˜ì„¸ìš”" ëª¨ë“ˆ í´ë¦­
   â””â”€> íƒ€ì„ë¼ì¸ì— ì¶”ê°€ë¨ (ìˆœì„œ: 1)

5. "ë™ì‘" íƒ­ í´ë¦­ â†’ "ì œìŠ¤ì²˜" ì¹´í…Œê³ ë¦¬
   â””â”€> "ì† í”ë“¤ê¸°" ëª¨ë“ˆ í´ë¦­
   â””â”€> íƒ€ì„ë¼ì¸ì— ì¶”ê°€ë¨ (ìˆœì„œ: 2)

6. íƒ€ì„ë¼ì¸ í™•ì¸:
   â”Œâ”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”
   â”‚ 1  â”‚ â”‚ 2  â”‚
   â”‚ëŒ€ì‚¬â”‚ â”‚ë™ì‘â”‚
   â””â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”˜

7. íˆ´ë°” âœ“ ë²„íŠ¼ í´ë¦­
   â””â”€> ì €ì¥ (TODO: êµ¬í˜„ ì˜ˆì •)
```

### í”„ë¦¬ë¯¸ì—„ ëª¨ë“ˆ ì¶”ê°€

```
1. "ëŒ€ì‚¬" íƒ­ â†’ "ë¡œë§¨ìŠ¤" ì¹´í…Œê³ ë¦¬

2. "ì‚¬ë‘í•´ìš”" ëª¨ë“ˆ (ğŸ”’ 50í† í°) í´ë¦­
   â””â”€> ì–¸ë½ ë‹¤ì´ì–¼ë¡œê·¸ í‘œì‹œ

3. [ì–¸ë½í•˜ê¸°] ë²„íŠ¼ í´ë¦­
   â””â”€> ëª¨ë“ˆ ì–¸ë½ë¨ (í˜„ì¬ëŠ” ë¬´ë£Œ)
   â””â”€> íƒ€ì„ë¼ì¸ì— ì¶”ê°€ë¨
```

---

## ğŸ“ í˜„ì¬ ìƒ˜í”Œ ë°ì´í„°

### Dialogue (ëŒ€ì‚¬) - 5ê°œ

**ì¹´í…Œê³ ë¦¬: ì¸ì‚¬ (3ê°œ)**

- âœ… ì•ˆë…•í•˜ì„¸ìš” (ë¬´ë£Œ)
- âœ… ì•ˆë…• (ë¬´ë£Œ)
- âœ… ì˜¤ëœë§Œì´ì—ìš” (ë¬´ë£Œ)

**ì¹´í…Œê³ ë¦¬: ê°ˆë“± (1ê°œ)**

- âœ… í™”ë‚¬ì–´! (ë¬´ë£Œ)

**ì¹´í…Œê³ ë¦¬: ë¡œë§¨ìŠ¤ (1ê°œ)**

- ğŸ”’ ì‚¬ë‘í•´ìš” (í”„ë¦¬ë¯¸ì—„, 50í† í°)

### Action (ë™ì‘) - 3ê°œ

**ì¹´í…Œê³ ë¦¬: ì´ë™ (1ê°œ)**

- âœ… ê±·ê¸° (ë¬´ë£Œ)

**ì¹´í…Œê³ ë¦¬: ì œìŠ¤ì²˜ (1ê°œ)**

- âœ… ì† í”ë“¤ê¸° (ë¬´ë£Œ)

**ì¹´í…Œê³ ë¦¬: ìƒí˜¸ì‘ìš© (1ê°œ)**

- ğŸ”’ í¬ì˜¹í•˜ê¸° (í”„ë¦¬ë¯¸ì—„, 50í† í°)

---

## ğŸ”® ë‹¤ìŒ ë‹¨ê³„ (TODO)

### 1. íƒ€ì„ë¼ì¸ ëª¨ë“ˆ ìˆœì„œ ë³€ê²½ (ë“œë˜ê·¸ ì•¤ ë“œë¡­)

**ëª©í‘œ:** íƒ€ì„ë¼ì¸ì—ì„œ ëª¨ë“ˆ ìˆœì„œë¥¼ ë“œë˜ê·¸ë¡œ ë³€ê²½

**êµ¬í˜„ ë°©ë²•:**

```kotlin
// Accompanist Reorderable ë¼ì´ë¸ŒëŸ¬ë¦¬ ì‚¬ìš©
// ë˜ëŠ” Custom Gestureë¡œ êµ¬í˜„

LazyRow(
    state = rememberReorderableLazyListState(
        onMove = { from, to ->
            viewModel.reorderTimeline(from.index, to.index)
        }
    )
) {
    // ...
}
```

### 2. ëª¨ë“ˆ ìƒì„¸ í¸ì§‘ (íŒŒë¼ë¯¸í„° ìˆ˜ì •)

**ëª©í‘œ:** íƒ€ì„ë¼ì¸ì˜ ëª¨ë“ˆì„ í´ë¦­í•˜ë©´ íŒŒë¼ë¯¸í„° í¸ì§‘ ê°€ëŠ¥

**ì˜ˆì‹œ:**

```
ëŒ€ì‚¬ ëª¨ë“ˆ í´ë¦­ ì‹œ:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚     ëŒ€ì‚¬ ìˆ˜ì •               â”‚
â”‚                             â”‚
â”‚ [ì•ˆë…•í•˜ì„¸ìš”               ] â”‚ â† í…ìŠ¤íŠ¸ ìˆ˜ì •
â”‚                             â”‚
â”‚ ê°ì •: [HAPPY â–¼]            â”‚
â”‚ ë§í’ì„ : [NORMAL â–¼]         â”‚
â”‚ íƒ€ì´í•‘ ì†ë„: [â– â– â– â– â–¡â–¡]     â”‚
â”‚                             â”‚
â”‚      [ì·¨ì†Œ]    [ì ìš©]       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ë°ì´í„° êµ¬ì¡°:**

```kotlin
data class TimelineModuleItem(
    val id: String,
    val moduleItem: ModuleItemEntity,
    val order: Int,
    val customParameters: Map<String, Any> = emptyMap()  // â† ì¶”ê°€
)
```

### 3. ì‹œë‚˜ë¦¬ì˜¤ ì €ì¥ & ë¡œë“œ

**ëª©í‘œ:** íƒ€ì„ë¼ì¸ì„ DBì— ì €ì¥í•˜ê³  ë¶ˆëŸ¬ì˜¤ê¸°

**Entity ì¶”ê°€:**

```kotlin
@Entity(tableName = "scenarios")
data class ScenarioEntity(
    @PrimaryKey val id: String,
    val title: String,
    val description: String,
    val createdAt: Long
)

@Entity(tableName = "timeline_items")
data class TimelineItemEntity(
    @PrimaryKey val id: String,
    val scenarioId: String,
    val moduleItemId: String,
    val order: Int,
    val customParametersJson: String
)
```

**Repository ì¶”ê°€:**

```kotlin
class ScenarioRepository @Inject constructor(
    private val scenarioDao: ScenarioDao,
    private val moduleRepository: ModuleRepository
) {
    suspend fun saveScenario(
        title: String,
        timelineItems: List<TimelineModuleItem>
    ): String {
        val scenarioId = UUID.randomUUID().toString()
        
        // Scenario ì €ì¥
        scenarioDao.insert(
            ScenarioEntity(
                id = scenarioId,
                title = title,
                description = "",
                createdAt = System.currentTimeMillis()
            )
        )
        
        // TimelineItem ì €ì¥
        timelineItems.forEach { item ->
            scenarioDao.insertTimelineItem(
                TimelineItemEntity(
                    id = UUID.randomUUID().toString(),
                    scenarioId = scenarioId,
                    moduleItemId = item.moduleItem.id,
                    order = item.order,
                    customParametersJson = "{}"
                )
            )
        }
        
        return scenarioId
    }
}
```

### 4. TheaterScript ë³€í™˜ & ì¬ìƒ

**ëª©í‘œ:** ì €ì¥ëœ ì‹œë‚˜ë¦¬ì˜¤ë¥¼ TheaterScriptë¡œ ë³€í™˜í•˜ì—¬ StageViewì—ì„œ ì¬ìƒ

**Converter:**

```kotlin
class TimelineToScriptConverter @Inject constructor(
    private val moduleRepository: ModuleRepository
) {
    suspend fun convert(timelineItems: List<TimelineItemEntity>): TheaterScript {
        val scenes = mutableListOf<SceneState>()
        
        timelineItems.forEach { item ->
            val module = moduleRepository.getModuleItemById(item.moduleItemId)
            when (module?.typeId) {
                "dialogue" -> {
                    val content = moduleRepository.parseModuleContent<DialogueContent>(
                        module.contentJson
                    )
                    scenes.add(
                        SceneState(
                            characters = listOf(/* ... */),
                            dialogues = listOf(
                                DialogueState(
                                    text = content.text,
                                    position = DpOffset(120.dp, 80.dp),
                                    speakerName = "ìºë¦­í„°"
                                )
                            ),
                            durationMillis = 3000L
                        )
                    )
                }
                "action" -> {
                    // Action ì²˜ë¦¬
                }
                // ...
            }
        }
        
        return TheaterScript(scenes = scenes)
    }
}
```

### 5. í™ˆ í™”ë©´ ê°œì„ 

**ëª©í‘œ:** ì €ì¥ëœ ì‹œë‚˜ë¦¬ì˜¤ ëª©ë¡ í‘œì‹œ

**ë ˆì´ì•„ì›ƒ:**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ì œë¡¬ ì—°ê·¹ë¶€                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ï¿½ï¿½â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ [í…œí”Œë¦¿] [ë‚´ ì‹œë‚˜ë¦¬ì˜¤]              â”‚ â† íƒ­
â”‚                                     â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚ â”‚ ğŸ“ ì²« ë§Œë‚¨                  â”‚   â”‚
â”‚ â”‚ 5ê°œ ëª¨ë“ˆ Â· 2024.12.07      â”‚   â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚ â”‚ ğŸ“ ê³ ë°± ì¥ë©´                â”‚   â”‚
â”‚ â”‚ 8ê°œ ëª¨ë“ˆ Â· 2024.12.06      â”‚   â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                     â”‚
â”‚                       [+ ìƒˆë¡œë§Œë“¤ê¸°]â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 6. ëª¨ë“ˆ ì¶”ê°€ (ì½˜í…ì¸  í™•ì¥)

**ëª©í‘œ:** ê° íƒ€ì…ë³„ 50-100ê°œ ëª¨ë“ˆ ì¶”ê°€

**ë°©ë²•:**

```kotlin
// assets/modules/dialogues.json
[
  {
    "id": "dialogue_thanks",
    "name": "ê³ ë§ˆì›Œìš”",
    "categoryId": "dialogue_daily",
    "isPremium": false,
    "content": {
      "text": "ê³ ë§ˆì›Œìš”!",
      "characterId": "hero",
      "emotion": "HAPPY",
      "bubbleStyle": "NORMAL"
    }
  },
  // ... ë” ë§ì€ ëª¨ë“ˆ
]
```

**ë¡œë”:**

```kotlin
suspend fun loadModulesFromAssets() {
    val json = context.assets.open("modules/dialogues.json")
        .bufferedReader()
        .use { it.readText() }
    
    val modules = gson.fromJson<List<ModuleData>>(json)
    modules.forEach { data ->
        moduleDao.insertModuleItem(
            ModuleItemEntity(
                id = data.id,
                name = data.name,
                typeId = "dialogue",
                categoryId = data.categoryId,
                isPremium = data.isPremium,
                contentJson = gson.toJson(data.content)
            )
        )
    }
}
```

---

## ğŸ› ì•Œë ¤ì§„ ì´ìŠˆ

### 1. íƒ€ì„ë¼ì¸ ìŠ¤í¬ë¡¤ ì‹œ FAB ê°€ë¦¼

**ë¬¸ì œ:** MainScreenì˜ FABì´ íƒ€ì„ë¼ì¸ ìœ„ì— ê²¹ì¹¨

**í•´ê²°:** FABì„ StageScreen ë‚´ë¶€ë¡œ ì´ë™í•˜ê±°ë‚˜, Navigation êµ¬ì¡° ê°œì„ 

### 2. ëª¨ë“ˆ ìˆœì„œ ë³€ê²½ ë¯¸êµ¬í˜„

**í˜„ì¬:** íƒ€ì„ë¼ì¸ì—ì„œ ëª¨ë“ˆ ìˆœì„œë¥¼ ë³€ê²½í•  ìˆ˜ ì—†ìŒ

**í•´ê²°:** ë“œë˜ê·¸ ì•¤ ë“œë¡­ êµ¬í˜„ í•„ìš”

### 3. ì‹œë‚˜ë¦¬ì˜¤ ì €ì¥ ë¯¸êµ¬í˜„

**í˜„ì¬:** ì €ì¥ ë²„íŠ¼ì„ ëˆŒëŸ¬ë„ ì•„ë¬´ ë™ì‘ ì•ˆí•¨

**í•´ê²°:** ScenarioRepository ë° DB ìŠ¤í‚¤ë§ˆ ì¶”ê°€ í•„ìš”

---

## ğŸ“Š ì„±ëŠ¥ ìµœì í™”

### 1. LazyColumn/LazyRow ì‚¬ìš©

- ëª¨ë“ˆ ëª©ë¡ì€ LazyColumnìœ¼ë¡œ êµ¬í˜„ (ê°€ìƒí™”)
- íƒ€ì„ë¼ì¸ì€ LazyRowë¡œ êµ¬í˜„

### 2. remember í™œìš©

```kotlin
val isUnlocked = remember(item.id) {
    // ê³„ì‚° ë¹„ìš©ì´ í° ì‘ì—…ì€ rememberë¡œ ìºì‹±
}
```

### 3. StateFlow ìµœì í™”

```kotlin
// collectAsState()ë¡œ Compose State ë³€í™˜
val items by viewModel.moduleItems.collectAsState()
```

---

## ğŸ¨ UI/UX ê°œì„  ì•„ì´ë””ì–´

### 1. ë¯¸ë¦¬ë³´ê¸° ê¸°ëŠ¥

**íƒ€ì„ë¼ì¸ ë¯¸ë¦¬ë³´ê¸° ë²„íŠ¼:**

```
[ì €ì¥] [ë¯¸ë¦¬ë³´ê¸° â–¶] [âœ“]
```

**ë™ì‘:**

- ë¯¸ë¦¬ë³´ê¸° í´ë¦­ ì‹œ íƒ€ì„ë¼ì¸ì„ TheaterScriptë¡œ ë³€í™˜
- StageViewì—ì„œ ì¬ìƒ
- ì¬ìƒ ì™„ë£Œ í›„ ë‹¤ì‹œ ì—ë””í„°ë¡œ ë³µê·€

### 2. í…œí”Œë¦¿ ì‹œì‘

**"í…œí”Œë¦¿ì—ì„œ ì‹œì‘" ë²„íŠ¼:**

```
[ë¹ˆ ìº”ë²„ìŠ¤] [í…œí”Œë¦¿ì—ì„œ ì‹œì‘]
```

**ë™ì‘:**

- ë¯¸ë¦¬ ë§Œë“¤ì–´ì§„ ì‹œë‚˜ë¦¬ì˜¤ í…œí”Œë¦¿ ì„ íƒ
- íƒ€ì„ë¼ì¸ì— ìë™ìœ¼ë¡œ ëª¨ë“ˆ ì¶”ê°€
- ìˆ˜ì • ê°€ëŠ¥

### 3. ê²€ìƒ‰ ê¸°ëŠ¥

**ëª¨ë“ˆ íŒ”ë ˆíŠ¸ ìƒë‹¨ì— ê²€ìƒ‰ë°”:**

```
ğŸ” [ê²€ìƒ‰...]
```

**ë™ì‘:**

- ëª¨ë“  íƒ€ì…/ì¹´í…Œê³ ë¦¬ë¥¼ ë„˜ì–´ì„œ ê²€ìƒ‰
- íƒœê·¸ ê¸°ë°˜ í•„í„°ë§

### 4. ì¦ê²¨ì°¾ê¸°

**ìì£¼ ì“°ëŠ” ëª¨ë“ˆ ë³„í‘œ:**

```
â­ï¸ ì•ˆë…•í•˜ì„¸ìš”
```

**ë™ì‘:**

- ë³„í‘œ í´ë¦­ìœ¼ë¡œ ì¦ê²¨ì°¾ê¸° ì¶”ê°€/ì œê±°
- "ì¦ê²¨ì°¾ê¸°" íƒ­ìœ¼ë¡œ ë¹ ë¥¸ ì ‘ê·¼

---

## ğŸ“ í•™ìŠµ í¬ì¸íŠ¸

### Compose Navigation

```kotlin
NavHost(navController, startDestination) {
    composable("main") { MainScreen() }
    composable("creator") { CreatorScreen() }
}
```

### ViewModel + Flow

```kotlin
@HiltViewModel
class ViewModel @Inject constructor(
    private val repository: Repository
) {
    val data = repository.getData()
        .stateIn(scope, SharingStarted.Lazily, emptyList())
}
```

### Hilt ì˜ì¡´ì„± ì£¼ì…

```kotlin
@HiltViewModel
class ViewModel @Inject constructor(...)

@Composable
fun Screen(viewModel: ViewModel = hiltViewModel()) { ... }
```

---

## ë§ˆë¬´ë¦¬

### âœ… Phase 2 ì‹œì‘ ì²´í¬ë¦¬ìŠ¤íŠ¸

- [x] Navigation ì‹œìŠ¤í…œ êµ¬ì¶•
- [x] MainScreen + FAB
- [x] ScenarioCreatorScreen (ê¸°ë³¸ ë ˆì´ì•„ì›ƒ)
- [x] ScenarioCreatorViewModel
- [x] ëª¨ë“ˆ íƒ€ì… íƒ­
- [x] ì¹´í…Œê³ ë¦¬ í•„í„°
- [x] ëª¨ë“ˆ ì¹´ë“œ
- [x] íƒ€ì„ë¼ì¸
- [x] í”„ë¦¬ë¯¸ì—„ ì–¸ë½ ë‹¤ì´ì–¼ë¡œê·¸
- [x] ë¹Œë“œ ì„±ê³µ

### ğŸ”œ ë‹¤ìŒ ì‘ì—…

1. **íƒ€ì„ë¼ì¸ ë“œë˜ê·¸ ì•¤ ë“œë¡­** (2-3ì¼)
2. **ëª¨ë“ˆ ìƒì„¸ í¸ì§‘** (3-4ì¼)
3. **ì‹œë‚˜ë¦¬ì˜¤ ì €ì¥/ë¡œë“œ** (4-5ì¼)
4. **TheaterScript ë³€í™˜** (2-3ì¼)
5. **í™ˆ í™”ë©´ ê°œì„ ** (2-3ì¼)

**ì´ ì˜ˆìƒ: 2-3ì£¼**

---

**Happy Coding! ğŸ­âœ¨**
