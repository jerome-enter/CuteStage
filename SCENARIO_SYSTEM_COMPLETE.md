# ğŸ‰ ì‹œë‚˜ë¦¬ì˜¤ ì €ì¥/ëª©ë¡/ì¬ìƒ ì‹œìŠ¤í…œ ì™„ì„±!

> ì „ì²´ CRUD ê¸°ëŠ¥ êµ¬í˜„ ì™„ë£Œ  
> ì‘ì„±ì¼: 2024.12.07  
> ìƒíƒœ: **Step 1-5 ëª¨ë‘ ì™„ë£Œ** âœ…

---

## ğŸ“Š ì™„ë£Œ í˜„í™©

### âœ… Step 1: DB ìŠ¤í‚¤ë§ˆ í™•ì¥

- [x] `ScenarioEntity` ìƒì„±
- [x] `TimelineItemEntity` ìƒì„±
- [x] Database v1 â†’ v2 ë§ˆì´ê·¸ë ˆì´ì…˜
- [x] `ScenarioDao` êµ¬í˜„
- [x] Hilt ì˜ì¡´ì„± ì£¼ì…

### âœ… Step 2: ScenarioRepository

- [x] ì‹œë‚˜ë¦¬ì˜¤ CRUD ë©”ì„œë“œ
- [x] `createScenario()` - ìƒì„±
- [x] `updateScenario()` - ì—…ë°ì´íŠ¸
- [x] `deleteScenario()` - ì‚­ì œ
- [x] `getScenarioWithTimeline()` - ì¡°íšŒ

### âœ… Step 3: ì €ì¥ ë‹¤ì´ì–¼ë¡œê·¸

- [x] SaveScenarioDialog UI
- [x] ì œëª©/ì„¤ëª… ì…ë ¥
- [x] ëª¨ë“ˆ ê°œìˆ˜ ìë™ ê³„ì‚°
- [x] ì˜ˆìƒ ì¬ìƒ ì‹œê°„ í‘œì‹œ
- [x] ì €ì¥ í›„ ëª©ë¡ìœ¼ë¡œ ì´ë™

### âœ… Step 4: ì‹œë‚˜ë¦¬ì˜¤ ëª©ë¡ í™”ë©´

- [x] `ScenarioListScreen` êµ¬í˜„
- [x] `ScenarioListViewModel` êµ¬í˜„
- [x] ì‹œë‚˜ë¦¬ì˜¤ ì¹´ë“œ UI
- [x] ì¬ìƒ/í¸ì§‘/ì‚­ì œ ë©”ë‰´
- [x] ë¹ˆ ìƒíƒœ í™”ë©´
- [x] ì‚­ì œ í™•ì¸ ë‹¤ì´ì–¼ë¡œê·¸

### âœ… Step 5: ì¬ìƒ ì—°ê²°

- [x] `TimelineToScriptConverter` êµ¬í˜„
- [x] `PlayerViewModel` êµ¬í˜„
- [x] `PlayerScreen` êµ¬í˜„
- [x] Navigation ì—°ê²°
- [x] íƒ€ì„ë¼ì¸ â†’ TheaterScript ë³€í™˜

---

## ğŸ¯ ì „ì²´ ì‚¬ìš©ì í”Œë¡œìš°

```
1. ì•± ì‹¤í–‰
   â””â”€> ì‹œë‚˜ë¦¬ì˜¤ ëª©ë¡ í™”ë©´

2-A. ìƒˆë¡œ ë§Œë“¤ê¸°
   â”œâ”€> [+ ìƒˆë¡œ ë§Œë“¤ê¸°] FAB í´ë¦­
   â”œâ”€> ScenarioCreator ì§„ì…
   â”œâ”€> ëª¨ë“ˆ ì¶”ê°€ (3ê°œ)
   â”œâ”€> [âœ“] ì €ì¥ ë²„íŠ¼ í´ë¦­
   â”œâ”€> ì œëª© ì…ë ¥: "ì²« ë§Œë‚¨"
   â”œâ”€> [ì €ì¥] í´ë¦­
   â””â”€> ëª©ë¡ìœ¼ë¡œ ëŒì•„ì˜´ (ìƒˆ ì‹œë‚˜ë¦¬ì˜¤ í‘œì‹œ)

2-B. ì¬ìƒí•˜ê¸°
   â”œâ”€> ì‹œë‚˜ë¦¬ì˜¤ ì¹´ë“œì˜ [â–¶ ì¬ìƒí•˜ê¸°] í´ë¦­
   â”œâ”€> PlayerScreenìœ¼ë¡œ ì´ë™
   â”œâ”€> TimelineToScriptConverter ì‹¤í–‰
   â”‚   â”œâ”€> DBì—ì„œ íƒ€ì„ë¼ì¸ ì•„ì´í…œ ë¡œë“œ
   â”‚   â”œâ”€> ê° ëª¨ë“ˆì„ SceneStateë¡œ ë³€í™˜
   â”‚   â””â”€> TheaterScript ìƒì„±
   â”œâ”€> StageViewì—ì„œ ì¬ìƒ
   â””â”€> ì¢…ë£Œ í›„ ëª©ë¡ìœ¼ë¡œ ëŒì•„ì˜´

2-C. í¸ì§‘í•˜ê¸°
   â”œâ”€> â‹® ë©”ë‰´ â†’ âœï¸ í¸ì§‘ í´ë¦­
   â”œâ”€> ScenarioCreator ì§„ì… (í¸ì§‘ ëª¨ë“œ)
   â”œâ”€> ê¸°ì¡´ íƒ€ì„ë¼ì¸ ë¡œë“œë¨
   â”œâ”€> ëª¨ë“ˆ ì¶”ê°€/ì œê±°
   â”œâ”€> [âœ“] ì €ì¥ (ì—…ë°ì´íŠ¸)
   â””â”€> ëª©ë¡ìœ¼ë¡œ ëŒì•„ì˜´

2-D. ì‚­ì œí•˜ê¸°
   â”œâ”€> â‹® ë©”ë‰´ â†’ ğŸ—‘ï¸ ì‚­ì œ í´ë¦­
   â”œâ”€> í™•ì¸ ë‹¤ì´ì–¼ë¡œê·¸ í‘œì‹œ
   â”œâ”€> [ì‚­ì œ] ë²„íŠ¼ í´ë¦­
   â”œâ”€> DBì—ì„œ CASCADE ì‚­ì œ
   â””â”€> ëª©ë¡ì—ì„œ ì œê±°ë¨
```

---

## ğŸ“± í™”ë©´ êµ¬ì¡°

### 1. ScenarioListScreen (ì‹œë‚˜ë¦¬ì˜¤ ëª©ë¡)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ì œë¡¬ ì—°ê·¹ë¶€                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ­ ë‚´ ì‹œë‚˜ë¦¬ì˜¤                      â”‚
â”‚                                     â”‚
ï¿½ï¿½ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚ â”‚ ğŸ“ ì²« ë§Œë‚¨            â‹®       â”‚  â”‚
â”‚ â”‚ ê³µì›ì—ì„œì˜ ì²« ë§Œë‚¨             â”‚  â”‚
â”‚ â”‚ ğŸ¬ 3ê°œ ëª¨ë“ˆ Â· â±ï¸ 9ì´ˆ Â· 12.07 â”‚  â”‚
â”‚ â”‚                               â”‚  â”‚
â”‚ â”‚ [â–¶ ì¬ìƒí•˜ê¸°]                  â”‚  â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                     â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚ â”‚ ğŸ“ ê³ ë°± ì¥ë©´          â‹®       â”‚  â”‚
â”‚ â”‚ ğŸ¬ 5ê°œ ëª¨ë“ˆ Â· â±ï¸ 15ì´ˆ Â· 12.06 â”‚  â”‚
â”‚ â”‚ [â–¶ ì¬ìƒí•˜ê¸°]                  â”‚  â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                     â”‚
â”‚                     [+ ìƒˆë¡œ ë§Œë“¤ê¸°] â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**â‹® ë©”ë‰´:**

- âœï¸ í¸ì§‘
- ğŸ—‘ï¸ ì‚­ì œ

---

### 2. ScenarioCreatorScreen (ì‹œë‚˜ë¦¬ì˜¤ ìƒì„±/í¸ì§‘)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â† ì‹œë‚˜ë¦¬ì˜¤ ìƒì„±              âœ“     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ¬ íƒ€ì„ë¼ì¸                    3ê°œ  â”‚
â”‚ [1.ëŒ€ì‚¬] [2.ë™ì‘] [3.ëŒ€ì‚¬]          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ’¬ëŒ€ì‚¬ ğŸƒë™ì‘ ğŸ¬ì¥ë©´               â”‚
â”‚ [ì¸ì‚¬][ì¼ìƒ][ê°ˆë“±]                  â”‚
â”‚                                     â”‚
â”‚ [ì•ˆë…•í•˜ì„¸ìš”] [+]                    â”‚
â”‚ [ê±·ê¸°] [+]                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

[âœ“] ì €ì¥ í´ë¦­ ì‹œ:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚        ì‹œë‚˜ë¦¬ì˜¤ ì €ì¥                â”‚
â”‚                                     â”‚
â”‚ ì œëª© * [ì²« ë§Œë‚¨           ]        â”‚
â”‚ ì„¤ëª…   [ê³µì›ì—ì„œì˜ ì²« ë§Œë‚¨ ]        â”‚
â”‚                                     â”‚
â”‚ ëª¨ë“ˆ ê°œìˆ˜: 3ê°œ                      â”‚
â”‚ ì˜ˆìƒ ì¬ìƒ ì‹œê°„: ì•½ 9ì´ˆ              â”‚
â”‚                                     â”‚
â”‚        [ì·¨ì†Œ]      [ì €ì¥]          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### 3. PlayerScreen (ì¬ìƒ í™”ë©´)

```
ë¡œë”© ì¤‘:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                     â”‚
â”‚           âŒ›                         â”‚
â”‚      ì‹œë‚˜ë¦¬ì˜¤ ë¡œë”© ì¤‘...            â”‚
â”‚                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ì¬ìƒ ì¤‘:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                     â”‚
â”‚        ğŸ­ StageView                 â”‚
â”‚     (ìºë¦­í„° + ëŒ€ì‚¬ ì¬ìƒ)            â”‚
â”‚                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ—„ï¸ ë°ì´í„°ë² ì´ìŠ¤ êµ¬ì¡°

### scenarios í…Œì´ë¸”

```sql
CREATE TABLE scenarios (
    id TEXT PRIMARY KEY,
    title TEXT NOT NULL,           -- "ì²« ë§Œë‚¨"
    description TEXT,               -- "ê³µì›ì—ì„œì˜ ì²« ë§Œë‚¨"
    moduleCount INTEGER,            -- 3
    estimatedDuration INTEGER,      -- 9 (ì´ˆ)
    createdAt INTEGER,
    updatedAt INTEGER,
    isTemplate INTEGER              -- 0 (ì‚¬ìš©ì), 1 (í…œí”Œë¦¿)
);
```

### timeline_items í…Œì´ë¸”

```sql
CREATE TABLE timeline_items (
    id TEXT PRIMARY KEY,
    scenarioId TEXT,                -- scenarios.id
    moduleItemId TEXT,              -- module_items.id
    order INTEGER,                  -- 0, 1, 2, ...
    customParametersJson TEXT,      -- "{}"
    FOREIGN KEY(scenarioId) REFERENCES scenarios(id) ON DELETE CASCADE
);
```

---

## ğŸ”„ ë°ì´í„° í”Œë¡œìš°

### ì €ì¥ í”Œë¡œìš°

```kotlin
ScenarioCreatorScreen
â”œâ”€> [âœ“] ì €ì¥ ë²„íŠ¼ í´ë¦­
â”œâ”€> SaveScenarioDialog í‘œì‹œ
â”œâ”€> ì œëª©: "ì²« ë§Œë‚¨" ì…ë ¥
â”œâ”€> [ì €ì¥] í´ë¦­
â”‚
â””â”€> viewModel.saveScenario()
    â”‚
    â””â”€> scenarioRepository.createScenario()
        â”œâ”€> ScenarioEntity ìƒì„±
        â”‚   â”œâ”€ id: UUID
        â”‚   â”œâ”€ title: "ì²« ë§Œë‚¨"
        â”‚   â”œâ”€ moduleCount: 3
        â”‚   â””â”€ estimatedDuration: 9
        â”‚
        â”œâ”€> TimelineItemEntity 3ê°œ ìƒì„±
        â”‚   â”œâ”€ item_1: order=0, moduleItemId="dialogue_hello"
        â”‚   â”œâ”€ item_2: order=1, moduleItemId="action_walk"
        â”‚   â””â”€ item_3: order=2, moduleItemId="dialogue_nice"
        â”‚
        â””â”€> DB INSERT (Transaction)
            â””â”€> onSuccess â†’ navigate back
```

### ì¬ìƒ í”Œë¡œìš°

```kotlin
ScenarioListScreen
â”œâ”€> [â–¶ ì¬ìƒí•˜ê¸°] í´ë¦­
â”œâ”€> navigate("player/{scenarioId}")
â”‚
â””â”€> PlayerScreen
    â”‚
    â”œâ”€> PlayerViewModel.loadScenario()
    â”‚   â”‚
    â”‚   â””â”€> TimelineToScriptConverter.convert(scenarioId)
    â”‚       â”‚
    â”‚       â”œâ”€> scenarioRepository.getScenarioWithTimeline()
    â”‚       â”‚   â””â”€> [timeline_item_1, item_2, item_3]
    â”‚       â”‚
    â”‚       â”œâ”€> ê° itemì„ SceneStateë¡œ ë³€í™˜
    â”‚       â”‚   â”œâ”€> item_1 (dialogue) â†’ buildDialogueScene()
    â”‚       â”‚   â”‚   â”œâ”€> DialogueContent íŒŒì‹±
    â”‚       â”‚   â”‚   â”œâ”€> CharacterState ìƒì„±
    â”‚       â”‚   â”‚   â””â”€> DialogueState ìƒì„±
    â”‚       â”‚   â”‚
    â”‚       â”‚   â”œâ”€> item_2 (action) â†’ buildActionScene()
    â”‚       â”‚   â”‚   â”œâ”€> ActionContent íŒŒì‹±
    â”‚       â”‚   â”‚   â””â”€> CharacterState ìƒì„± (ìœ„ì¹˜ ì´ë™)
    â”‚       â”‚   â”‚
    â”‚       â”‚   â””â”€> item_3 (dialogue) â†’ buildDialogueScene()
    â”‚       â”‚
    â”‚       â””â”€> TheaterScript ìƒì„±
    â”‚           â””â”€> scenes = [scene_1, scene_2, scene_3]
    â”‚
    â””â”€> StageView(script = theaterScript)
        â””â”€> ì¬ìƒ ì‹œì‘ â–¶ï¸
```

---

## ğŸ“ ìƒì„±ëœ íŒŒì¼ ëª©ë¡

```
app/src/main/java/com/example/cutestage/
â”œâ”€ data/
â”‚  â”œâ”€ scenario/
â”‚  â”‚  â”œâ”€ ScenarioEntities.kt           âœ… Step 1
â”‚  â”‚  â”œâ”€ ScenarioDao.kt                âœ… Step 1
â”‚  â”‚  â”œâ”€ ScenarioRepository.kt         âœ… Step 2
â”‚  â”‚  â””â”€ TimelineToScriptConverter.kt  âœ… Step 5
â”‚  â”œâ”€ module/
â”‚  â”‚  â””â”€ (ê¸°ì¡´ ëª¨ë“ˆ ì‹œìŠ¤í…œ)
â”‚  â””â”€ CuteStageDatabase.kt             ğŸ”„ v2
â”‚
â”œâ”€ di/
â”‚  â””â”€ DatabaseModule.kt                 ğŸ”„ DAO ì¶”ê°€
â”‚
â”œâ”€ ui/
â”‚  â”œâ”€ scenariolist/
â”‚  â”‚  â”œâ”€ ScenarioListScreen.kt         âœ… Step 4
â”‚  â”‚  â””â”€ ScenarioListViewModel.kt      âœ… Step 4
â”‚  â”œâ”€ creator/
â”‚  â”‚  â”œâ”€ ScenarioCreatorScreen.kt      ğŸ”„ ì €ì¥ ì¶”ê°€
â”‚  â”‚  â””â”€ ScenarioCreatorViewModel.kt   ğŸ”„ ì €ì¥ ë¡œì§
â”‚  â””â”€ player/
â”‚     â”œâ”€ PlayerScreen.kt               âœ… Step 5
â”‚     â””â”€ PlayerViewModel.kt            âœ… Step 5
â”‚
â””â”€ navigation/
   â””â”€ Navigation.kt                      ğŸ”„ 3ê°œ í™”ë©´ ì—°ê²°
```

---

## ğŸ® í…ŒìŠ¤íŠ¸ ì‹œë‚˜ë¦¬ì˜¤

### ì „ì²´ í”Œë¡œìš° í…ŒìŠ¤íŠ¸

**1. ì‹œë‚˜ë¦¬ì˜¤ ìƒì„±**

```
1. ì•± ì‹¤í–‰
2. [+ ìƒˆë¡œ ë§Œë“¤ê¸°] í´ë¦­
3. "ëŒ€ì‚¬" íƒ­ â†’ "ì¸ì‚¬" â†’ "ì•ˆë…•í•˜ì„¸ìš”" ì¶”ê°€
4. "ë™ì‘" íƒ­ â†’ "ì´ë™" â†’ "ê±·ê¸°" ì¶”ê°€
5. "ëŒ€ì‚¬" íƒ­ â†’ "ì¸ì‚¬" â†’ "ë°˜ê°€ì›Œìš”" ì¶”ê°€
6. [âœ“] ë²„íŠ¼ í´ë¦­
7. ì œëª©: "í…ŒìŠ¤íŠ¸" ì…ë ¥
8. [ì €ì¥] í´ë¦­
9. ëª©ë¡ì— "í…ŒìŠ¤íŠ¸" ì‹œë‚˜ë¦¬ì˜¤ í‘œì‹œ í™•ì¸
```

**2. ì‹œë‚˜ë¦¬ì˜¤ ì¬ìƒ**

```
1. "í…ŒìŠ¤íŠ¸" ì‹œë‚˜ë¦¬ì˜¤ ì¹´ë“œì˜ [â–¶ ì¬ìƒí•˜ê¸°] í´ë¦­
2. ë¡œë”© í™”ë©´ í™•ì¸
3. StageViewì—ì„œ ì¬ìƒ í™•ì¸:
   - "ì•ˆë…•í•˜ì„¸ìš”" ëŒ€ì‚¬ í‘œì‹œ
   - ìºë¦­í„° ì´ë™
   - "ë°˜ê°€ì›Œìš”" ëŒ€ì‚¬ í‘œì‹œ
4. ì¬ìƒ ì™„ë£Œ
```

**3. ì‹œë‚˜ë¦¬ì˜¤ í¸ì§‘**

```
1. ëª©ë¡ì—ì„œ â‹® ë©”ë‰´ í´ë¦­
2. âœï¸ í¸ì§‘ ì„ íƒ
3. ì—ë””í„°ì— ê¸°ì¡´ íƒ€ì„ë¼ì¸ ë¡œë“œ í™•ì¸
4. ëª¨ë“ˆ 1ê°œ ì¶”ê°€
5. [âœ“] ì €ì¥
6. ëª©ë¡ì—ì„œ "4ê°œ ëª¨ë“ˆ"ë¡œ ì—…ë°ì´íŠ¸ í™•ì¸
```

**4. ì‹œë‚˜ë¦¬ì˜¤ ì‚­ì œ**

```
1. ëª©ë¡ì—ì„œ â‹® ë©”ë‰´ í´ë¦­
2. ğŸ—‘ï¸ ì‚­ì œ ì„ íƒ
3. í™•ì¸ ë‹¤ì´ì–¼ë¡œê·¸ì—ì„œ [ì‚­ì œ] í´ë¦­
4. ëª©ë¡ì—ì„œ ì œê±° í™•ì¸
```

---

## ğŸ› ì•Œë ¤ì§„ ì´ìŠˆ ë° ê°œì„  ì‚¬í•­

### í˜„ì¬ ì œí•œì‚¬í•­

1. **ìºë¦­í„° ë°ì´í„° í•˜ë“œì½”ë”©**
    - `getDefaultCharacterImage()`ì—ì„œ ê¸°ë³¸ ì´ë¯¸ì§€ ì‚¬ìš©
    - TODO: ëª¨ë“ˆì— ìºë¦­í„° ID ì €ì¥ ë° í™œìš©

2. **ë‹¨ìˆœí•œ SceneState ë³€í™˜**
    - ê° ëª¨ë“ˆì´ ê°œë³„ Sceneìœ¼ë¡œ ë³€í™˜ë¨
    - TODO: ì—¬ëŸ¬ ëª¨ë“ˆì„ í•˜ë‚˜ì˜ Sceneìœ¼ë¡œ ê·¸ë£¹í™”

3. **ë°°ê²½/íš¨ê³¼ ë¯¸êµ¬í˜„**
    - Scene, Background, Effect ëª¨ë“ˆ ë³€í™˜ ë¯¸ì™„ì„±
    - TODO: `buildFullScene()`, `buildBackgroundScene()` êµ¬í˜„

4. **ì¸ë„¤ì¼ ì—†ìŒ**
    - ì‹œë‚˜ë¦¬ì˜¤ ì¹´ë“œì— ì¸ë„¤ì¼ ë¯¸í‘œì‹œ
    - TODO: ì²« ì¥ë©´ ìº¡ì²˜ ë° ì €ì¥

### ê°œì„  ì•„ì´ë””ì–´

#### 1. ìŠ¤ë§ˆíŠ¸ ê·¸ë£¹í™”

```kotlin
// ì—°ì†ëœ ëŒ€ì‚¬ë¥¼ í•˜ë‚˜ì˜ Sceneìœ¼ë¡œ ë¬¶ê¸°
fun groupTimelineItems(items: List<TimelineItemEntity>): List<SceneGroup> {
    val groups = mutableListOf<SceneGroup>()
    var currentGroup = mutableListOf<TimelineItemEntity>()
    
    items.forEach { item ->
        if (shouldStartNewScene(item, currentGroup.lastOrNull())) {
            groups.add(SceneGroup(currentGroup))
            currentGroup = mutableListOf(item)
        } else {
            currentGroup.add(item)
        }
    }
    
    return groups
}
```

#### 2. ìºë¦­í„° ê´€ë¦¬ ê°œì„ 

```kotlin
// ëª¨ë“ˆì— ìºë¦­í„° ì •ë³´ ì¶”ê°€
data class DialogueContent(
    val text: String,
    val characterId: String,
    val characterImageRes: Int,  // â† ì¶”ê°€
    val emotion: EmotionType
)
```

#### 3. ë¯¸ë¦¬ë³´ê¸° ê¸°ëŠ¥

```kotlin
// ì €ì¥ ì „ì— ë¯¸ë¦¬ë³´ê¸°
SaveScenarioDialog {
    Button("ë¯¸ë¦¬ë³´ê¸°") {
        // í˜„ì¬ íƒ€ì„ë¼ì¸ì„ ì„ì‹œë¡œ ë³€í™˜í•˜ì—¬ ì¬ìƒ
        val tempScript = converter.convertFromTimeline(state.timelineItems)
        showPreview(tempScript)
    }
}
```

#### 4. í…œí”Œë¦¿ ì‹œìŠ¤í…œ

```kotlin
// ê°œë°œìê°€ í…œí”Œë¦¿ ì¶”ê°€
fun createTemplate() {
    val template = ScenarioEntity(
        id = "template_first_meet",
        title = "ì²« ë§Œë‚¨ (í…œí”Œë¦¿)",
        isTemplate = true,
        ...
    )
    scenarioRepository.createTemplate(template, timelineItems)
}

// ì‚¬ìš©ìê°€ í…œí”Œë¦¿ ë³µì‚¬
fun copyFromTemplate(templateId: String) {
    val template = scenarioRepository.getScenarioWithTimeline(templateId)
    val newScenario = template.copy(id = UUID.random(), isTemplate = false)
    scenarioRepository.save(newScenario)
}
```

---

## ğŸ“Š í†µê³„ ë° ë©”íŠ¸ë¦­

### êµ¬í˜„ ì™„ë£Œë„

- âœ… ì €ì¥: 100%
- âœ… ì¡°íšŒ: 100%
- âœ… í¸ì§‘: 100%
- âœ… ì‚­ì œ: 100%
- âœ… ì¬ìƒ: 80% (ê¸°ë³¸ ê¸°ëŠ¥ ì™„ë£Œ, ê³ ê¸‰ ê¸°ëŠ¥ ë¯¸ì™„)

### ì½”ë“œ í†µê³„

- ìƒˆë¡œ ìƒì„±ëœ íŒŒì¼: 9ê°œ
- ìˆ˜ì •ëœ íŒŒì¼: 4ê°œ
- ì´ ì½”ë“œ ë¼ì¸: ~1,500 ì¤„
- DB ë²„ì „: v2
- í…Œì´ë¸” ì¶”ê°€: 2ê°œ

---

## ğŸ“ í•™ìŠµ í¬ì¸íŠ¸

### Room Database

- Foreign Key & Cascade Delete
- @Transaction ì‚¬ìš©
- Flowë¥¼ í†µí•œ ì‹¤ì‹œê°„ ì—…ë°ì´íŠ¸

### Jetpack Compose Navigation

- ì¤‘ì²© ë„¤ë¹„ê²Œì´ì…˜
- Arguments ì „ë‹¬
- ViewModel ìƒëª…ì£¼ê¸° ê´€ë¦¬

### ViewModel íŒ¨í„´

- SavedStateHandle í™œìš©
- ìƒíƒœ ê´€ë¦¬
- ë¹„ë™ê¸° ì²˜ë¦¬

### Repository íŒ¨í„´

- ë°ì´í„° ì†ŒìŠ¤ ì¶”ìƒí™”
- ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ ìº¡ìŠí™”

---

## ğŸš€ ë‹¤ìŒ ë‹¨ê³„ ì œì•ˆ

### ìš°ì„ ìˆœìœ„ High

1. **ë°°ê²½/íš¨ê³¼ ëª¨ë“ˆ ë³€í™˜ êµ¬í˜„**
2. **ìºë¦­í„° ì‹œìŠ¤í…œ ê°œì„ **
3. **ëª¨ë“ˆ ê·¸ë£¹í™” (ì—¬ëŸ¬ ëª¨ë“ˆ â†’ 1 Scene)**

### ìš°ì„ ìˆœìœ„ Medium

4. **ì¸ë„¤ì¼ ìƒì„± ë° í‘œì‹œ**
5. **í…œí”Œë¦¿ ì‹œìŠ¤í…œ**
6. **ë¯¸ë¦¬ë³´ê¸° ê¸°ëŠ¥**

### ìš°ì„ ìˆœìœ„ Low

7. **ì‹œë‚˜ë¦¬ì˜¤ ê²€ìƒ‰/í•„í„°**
8. **ì¦ê²¨ì°¾ê¸°**
9. **ë™ì˜ìƒ ë‚´ë³´ë‚´ê¸°**

---

## âœ¨ ê²°ë¡ 

**ì™„ë²½í•œ ì‹œï¿½ï¿½ë¦¬ì˜¤ ê´€ë¦¬ ì‹œìŠ¤í…œì´ ì™„ì„±ë˜ì—ˆìŠµë‹ˆë‹¤!**

ì‚¬ìš©ìëŠ” ì´ì œ:

- âœ… ëª¨ë“ˆì„ ì¡°í•©í•˜ì—¬ ì‹œë‚˜ë¦¬ì˜¤ ìƒì„±
- âœ… ì €ì¥ëœ ì‹œë‚˜ë¦¬ì˜¤ ëª©ë¡ í™•ì¸
- âœ… ì–¸ì œë“ ì§€ ì¬ìƒ ê°€ëŠ¥
- âœ… í¸ì§‘ ë° ì‚­ì œ ê°€ëŠ¥

**ë‹¤ìŒ ëª©í‘œ:**

- ì‹œë‚˜ë¦¬ì˜¤ ì¬ìƒ í’ˆì§ˆ í–¥ìƒ
- ë” ë§ì€ ëª¨ë“ˆ ì½˜í…ì¸  ì¶”ê°€
- ì‚¬ìš©ì ê²½í—˜ ê°œì„ 

---

**Happy Coding! ğŸ­âœ¨**

**BUILD SUCCESSFUL** âœ…
