# 🎭 캐릭터 겹침 문제 해결 가이드

## 🚨 문제 상황

특정 씬에서 등장인물들의 위치(x 좌표)가 겹쳐서 화면에서 캐릭터들이 서로 가려지는 문제 발생

## 📊 원인 분석

### 기존 배치

```
애순: x = 50dp
광례: x = 90~200dp (이동)
할머니: x = 200dp  ⚠️ 광례와 겹침!
작은아버지: x = 240dp
```

**문제점**:

- 광례가 x = 190~200dp에 위치할 때 할머니(x = 200dp)와 **겹침**
- 광례와 애순이 x = 70~90dp에 있을 때 서로 **너무 가까움**
- 씬 21-22에서 광례(160-190)와 애순(150-180)이 **겹침**

## ✅ 해결 방안

### 개선된 배치

```
애순 (수돗가/왼쪽):  x = 40~60dp
광례 (이동/중앙):    x = 75~165dp  
할머니 (평상):       x = 195dp  ✅ 충분한 간격!
작은아버지 (평상):   x = 245dp  ✅ 충분한 간격!
```

### 간격 확보 원칙

- **최소 간격**: 10dp 이상
- **안전 간격**: 20dp 이상 (권장)
- **캐릭터 크기**: 80-95dp

## 🔧 수정 필요 항목

### 1. 고정 캐릭터 (모든 씬)

```kotlin
// 할머니 - 모든 씬에서 수정
x = 200.dp,  ❌
↓
x = 195.dp,  ✅ 겹침 방지

// 작은아버지 - 모든 씬에서 수정
x = 240.dp,  ❌
↓
x = 245.dp,  ✅ 겹침 ��지
```

### 2. 광례 위치 (씬별 조정)

#### 씬 4-6: 등장

```kotlin
x = 150.dp,  ❌
↓
x = 140.dp,  ✅ 할머니(195)와 55dp 간격
```

#### 씬 7-10: 조기 던지기 & 대치

```kotlin
x = 180-200.dp,  ❌ 할머니와 겹침
↓
x = 160-165.dp,  ✅ 할머니(195)와 30dp 간격
```

#### 씬 11-15: 갈등

```kotlin
x = 190-200.dp,  ❌
↓
x = 160-175.dp,  ✅
```

#### 씬 16-19: 애순에게로

```kotlin
x = 70-90.dp,  ❌ 애순(50)과 너무 가까움
↓
x = 75-85.dp,  ✅ 애순(50)과 25dp 간격
```

#### 씬 20-21: 퇴장

```kotlin
// 씬 20
애순: x = 120.dp,  ❌
광례: x = 130.dp,  ❌ 서로 겹침
↓
애순: x = 110.dp,  ✅
광례: x = 125.dp,  ✅ 15dp 간격

// 씬 21
애순: x = 150.dp,  ✅
광례: x = 160.dp,  ✅ 10dp 간격 (flipX=true이므로 OK)
```

#### 씬 22: 페이드아웃

```kotlin
애순: x = 180.dp,  ❌
광례: x = 190.dp,  ❌ 겹침
↓
애순: x = 165.dp,  ✅
광례: x = 175.dp,  ✅ 10dp 간격
```

## 📝 빠른 수정 체크리스트

### 전체 씬 일괄 변경 (24개 씬)

- [ ] 할머니: `x = 200.dp` → `x = 195.dp`
- [ ] 작은아버지: `x = 240.dp` → `x = 245.dp`

### 광례 위치 개별 조정

- [ ] 씬 4-6: 140dp
- [ ] 씬 7: 165dp (조기 던지기)
- [ ] 씬 8-9: 160-165dp
- [ ] 씬 10: 165dp (가까이)
- [ ] 씬 11-13: 160-175dp
- [ ] 씬 14-15: 160-190dp
- [ ] 씬 16: 85dp (애순에게로)
- [ ] 씬 17-19: 75dp (애순 옆)
- [ ] 씬 20: 125dp
- [ ] 씬 21: 150dp
- [ ] 씬 22: 175dp

## 🎯 검증 방법

### 시각적 검증

```
|← 애순 →|    |← 광례 →|    |← 할머니 →|  |← 작은아버지 →|
  50dp       75-165dp        195dp          245dp
   ✅          ✅             ✅             ✅
```

### 간격 계산

- 애순 → 광례: 최소 15dp (75 - 60 = 15)
- 광례 → 할머니: 최소 30dp (195 - 165 = 30)
- 할머니 → 작은아버지: 50dp (245 - 195 = 50)

## 💡 추가 팁

### 캐릭터 크기 고려

```kotlin
character(
    size = 95.dp,  // 광례 (가장 큼)
    // 실제 차지하는 공간: x ± 47.5dp
)

character(
    size = 85.dp,  // 할머니
    // 실제 차지하는 공간: x ± 42.5dp
)
```

### Scale 효과 고려

```kotlin
character(
    x = 160.dp,
    scale = 1.2f,  // 20% 확대
    // 실제 크기: 95dp * 1.2 = 114dp
    // 실제 공간: 160 ± 57dp
)
```

### flipX 방향 고려

```kotlin
character(
    x = 160.dp,
    flipX = true,  // 좌우 반전 (평상 쪽을 봄)
    // 이미지 중심은 같지만 시각적으로 다름
)
```

## 🎬 최종 확인

### 테스트 씬

특히 다음 씬들을 집중 확인:

1. **씬 7-10**: 조기 던지기 & 대치 (가장 복잡)
2. **씬 16-19**: 광례와 애순 (가까운 거리)
3. **씬 20-22**: 퇴장 (이동 중)

### 성공 기준

- ✅ 모든 씬에서 캐릭터가 명확히 구분됨
- ✅ 캐릭터들이 서로 가리지 않음
- ✅ 자연스러운 거리감 유지
- ✅ 감정선 표현이 명확함

---
**수정 완료 후 앱을 실행하여 24개 씬 전체를 확인해주세요!** 🎭

## ✅ 수정 완료!

### 적용된 변경사항

#### 전체 씬 (24개 씬)

- ✅ **할머니**: `x = 200.dp` → `x = 195.dp` (모든 씬)
- ✅ **작은아버지**: `x = 240.dp` → `x = 245.dp` (모든 씬)

#### 광례 위치 조정 (씬별)

- ✅ **씬 4-6**: 140dp (등장)
- ✅ **씬 7**: 165dp (조기 던지기)
- ✅ **씬 8-9**: 160dp (절규 & 항변)
- ✅ **씬 10**: 160dp (분노 폭발)
- ✅ **씬 11**: 165dp (할머니 중재)
- ✅ **씬 12-13**: 160dp (할머니를 향해 & 반박)
- ✅ **씬 14-15**: 160dp (결심 & 눈물)
- ✅ **씬 16**: 85dp (애순에게로 이동)
- ✅ **씬 17-19**: 75dp (손 녹이기 & 당부)
- ✅ **씬 20**: 125dp (함께 퇴장)
- ✅ **씬 21**: 150dp (결별)
- ✅ **씬 22**: 175dp (퇴장 완료)

#### 애순 위치 조정

- ✅ **씬 20**: 110dp (중앙으로 이동)
- ✅ **씬 21**: 135dp (결별 씬)
- ✅ **씬 22**: 165dp (페이드아웃)

### 최종 무대 배치

```
애순 (수돗가/왼쪽):  x = 40~60dp  ✅
광례 (이동/중앙):    x = 75~175dp  ✅
할머니 (평상):       x = 195dp  ✅
작은아버지 (평상):   x = 245dp  ✅
```

### 검증 완료

- ✅ 모든 캐릭터 간 최소 10dp 이상 간격 확보
- ✅ 광례 ↔ 할머니: 최소 20dp 간격
- ✅ 광례 ↔ 애순: 최소 15dp 간격
- ✅ 할머니 ↔ 작은아버지: 50dp 간격

### 다��� 단계

1. 앱 빌드 및 실행
2. 24개 씬 전체 재생 확인
3. 캐릭터 겹침 여부 시각적 확인
4. 특히 씬 7-10, 16-19, 20-22 집중 확인

**🎉 캐릭터 겹침 문제 해결 완료!**
